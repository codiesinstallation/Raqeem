<?php
bolt_decrypt( __FILE__ , 'IbWw3T'); return 0;
##!!!##CgpuYW1lc3BhY2UgQXBwXEh0dHBcQ29udHJvbGxlcnNcQXBpOwoKdXNlIEFwcFxIdHRwXENvbnRyb2xsZXJzXENvbnRyb2xsZXI7CnVzZSBBcHBcSHR0cFxSZXF1ZXN0c1xTdXBsbGllclJlcXVlc3Q7CnVzZSBBcHBcTW9kZWxzXE1peGluc1N1cHBsaWVyczsKdXNlIEFwcFxNb2RlbHNcT2ZmZXI7CnVzZSBJbGx1bWluYXRlXEh0dHBcUmVxdWVzdDsKdXNlIERCOwoKY2xhc3MgT2ZmZXJDb250cm9sbGVyIGV4dGVuZHMgQ29udHJvbGxlcgp7CiAgICAvKioKICAgICAqIERpc3BsYXkgYSBsaXN0aW5nIG9mIHRoZSByZXNvdXJjZS4KICAgICAqCiAgICAgKiBAcmV0dXJuIFxJbGx1bWluYXRlXEh0dHBcUmVzcG9uc2UKICAgICAqLwogICAgcHVibGljIGZ1bmN0aW9uIGluZGV4KCkKICAgIHsKICAgICAgICAvLwogICAgICAgICRvZmZlcnMgPSBPZmZlcjo6d2l0aChbJ21haW5PZmZlclR5cGUnLCAnb2ZmZXJUeXBlJ10pLT5nZXQoKS0+YWxsKCk7CiAgICAgICAgcmV0dXJuICBqc29uX2VuY29kZSgkb2ZmZXJzKTsKICAgIH0KCgogICAgLyoqCiAgICAgKiBTdG9yZSBhIG5ld2x5IGNyZWF0ZWQgcmVzb3VyY2UgaW4gc3RvcmFnZS4KICAgICAqCiAgICAgKiBAcGFyYW0gIFxJbGx1bWluYXRlXEh0dHBcUmVxdWVzdCAgJHJlcXVlc3QKICAgICAqIEByZXR1cm4gXElsbHVtaW5hdGVcSHR0cFxSZXNwb25zZQogICAgICovCiAgICBwdWJsaWMgZnVuY3Rpb24gc3RvcmUoUmVxdWVzdCAkcmVxdWVzdCkKICAgIHsKICAgICAgICAkb2ZmZXIgPSBhcnJheSgpOwogICAgICAgICRvZmZlclsnbWFpbl90eXBlJ10gPSAkcmVxdWVzdC0+bWFpbl90eXBlOwogICAgICAgICRvZmZlclsnc3VwX3R5cGUnXSA9ICRyZXF1ZXN0LT5zdXBfdHlwZTsKICAgICAgICAkb2ZmZXJbJ29mZmVyX2Rpc2NvdW50X3BlcmNlbnQnXSA9ICRyZXF1ZXN0LT5vZmZlcl9kaXNjb3VudF9wZXJjZW50OwogICAgICAgICRvZmZlclsnbWFpbl90eXBlX2NvdW50J10gPSAkcmVxdWVzdC0+bWFpbl90eXBlX2NvdW50OwoKICAgICAgICBEQjo6dGFibGUoJ29mZmVycycpLT5pbnNlcnQoJG9mZmVyKTsKICAgIH0KCiAgICAvKioKICAgICAqIERpc3BsYXkgdGhlIHNwZWNpZmllZCByZXNvdXJjZS4KICAgICAqCiAgICAgKiBAcGFyYW0gIGludCAgJGlkCiAgICAgKiBAcmV0dXJuIFxJbGx1bWluYXRlXEh0dHBcUmVzcG9uc2UKICAgICAqLwogICAgcHVibGljIGZ1bmN0aW9uIHNob3coJGlkKQogICAgewogICAgICAgICRvZmZlcnMgPSBPZmZlcjo6d2hlcmUoJ2lkJywgJGlkKS0+d2l0aChbJ21haW5PZmZlclR5cGUnLCAnb2ZmZXJUeXBlJ10pLT5maXJzdCgpOwoKICAgICAgICByZXR1cm4gIGpzb25fZW5jb2RlKCRvZmZlcnMpOwogICAgfQoKCgogICAgLyoqCiAgICAgKiBVcGRhdGUgdGhlIHNwZWNpZmllZCByZXNvdXJjZSBpbiBzdG9yYWdlLgogICAgICoKICAgICAqIEBwYXJhbSAgXElsbHVtaW5hdGVcSHR0cFxSZXF1ZXN0ICAkcmVxdWVzdAogICAgICogQHBhcmFtICBpbnQgICRpZAogICAgICogQHJldHVybiBcSWxsdW1pbmF0ZVxIdHRwXFJlc3BvbnNlCiAgICAgKi8KICAgIHB1YmxpYyBmdW5jdGlvbiB1cGRhdGUoUmVxdWVzdCAkcmVxdWVzdCwgJGlkKQogICAgewogICAgICAgICRvZmZlciA9IGFycmF5KCk7CiAgICAgICAgJG9mZmVyWydtYWluX3R5cGUnXSA9ICRyZXF1ZXN0LT5tYWluX3R5cGU7CiAgICAgICAgJG9mZmVyWydzdXBfdHlwZSddID0gJHJlcXVlc3QtPnN1cF90eXBlOwogICAgICAgICRvZmZlclsnb2ZmZXJfZGlzY291bnRfcGVyY2VudCddID0gJHJlcXVlc3QtPm9mZmVyX2Rpc2NvdW50X3BlcmNlbnQ7CiAgICAgICAgJG9mZmVyWydtYWluX3R5cGVfY291bnQnXSA9ICRyZXF1ZXN0LT5tYWluX3R5cGVfY291bnQ7CiAgICAgICAgREI6OnRhYmxlKCdvZmZlcnMnKS0+d2hlcmUoJ2lkJywgJGlkKS0+dXBkYXRlKCRvZmZlcik7CiAgICB9CgogICAgLyoqCiAgICAgKiBSZW1vdmUgdGhlIHNwZWNpZmllZCByZXNvdXJjZSBmcm9tIHN0b3JhZ2UuCiAgICAgKgogICAgICogQHBhcmFtICBpbnQgICRpZAogICAgICogQHJldHVybiBcSWxsdW1pbmF0ZVxIdHRwXFJlc3BvbnNlCiAgICAgKi8KICAgIHB1YmxpYyBmdW5jdGlvbiBkZXN0cm95KCRpZCkKICAgIHsKICAgICAgICBEQjo6dGFibGUoJ29mZmVycycpLT53aGVyZSgnaWQnLCAkaWQpLT5maXJzdCgpOwoKICAgICAgICBEQjo6dGFibGUoJ29mZmVycycpLT53aGVyZSgnaWQnLCAkaWQpLT5kZWxldGUoKTsKICAgIH0KfQo=