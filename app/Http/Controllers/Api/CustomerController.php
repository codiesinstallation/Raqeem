<?php
bolt_decrypt( __FILE__ , 'opJEOC'); return 0;
##!!!##DQoNCm5hbWVzcGFjZSBBcHBcSHR0cFxDb250cm9sbGVyc1xBcGk7DQoNCnVzZSBBcHBcSHR0cFxDb250cm9sbGVyc1xDb250cm9sbGVyOw0KdXNlIEFwcFxIdHRwXFJlcXVlc3RzXEN1c3RvbWVyUmVxdWVzdDsNCnVzZSBBcHBcTW9kZWxzXEJpbGw7DQp1c2UgQXBwXE1vZGVsc1xDdXN0b21lcjsNCnVzZSBBcHBcTW9kZWxzXEV4cGVuc2U7DQp1c2UgSWxsdW1pbmF0ZVxIdHRwXFJlcXVlc3Q7DQp1c2UgREI7DQp1c2UgSWxsdW1pbmF0ZVxTdXBwb3J0XENhcmJvbjsNCnVzZSBBcHBcTW9kZWxzXEN1c3RvbWVyUGF5Ow0KDQpjbGFzcyBDdXN0b21lckNvbnRyb2xsZXIgZXh0ZW5kcyBDb250cm9sbGVyDQp7DQogICAgLyoqDQogICAgICogRGlzcGxheSBhIGxpc3Rpbmcgb2YgdGhlIHJlc291cmNlLg0KICAgICAqDQogICAgICogQHJldHVybiBcSWxsdW1pbmF0ZVxIdHRwXFJlc3BvbnNlDQogICAgICovDQogICAgcHVibGljIGZ1bmN0aW9uIGluZGV4KCkNCiAgICB7DQogICAgICAgICRjdXN0b21lcnMgPSBDdXN0b21lcjo6d2l0aCgnYmlsbHMnKS0+b3JkZXJCeSgnY3VzdF9pZCcsICdERVNDJyktPnBhZ2luYXRlKDEwKTsNCiAgICAgICAgcmV0dXJuIGpzb25fZW5jb2RlKCRjdXN0b21lcnMpOw0KICAgIH0NCg0KICAgIHB1YmxpYyBmdW5jdGlvbiBjdXN0b21lclJlcG9ydCgkZnJvbSwgJHRvLCAkaWQpDQogICAgew0KICAgICAgICBpZiAoJGZyb20gJiYgJHRvKQ0KICAgICAgICAgICAgJGJpbGxzID0gQmlsbDo6b3JkZXJCeSgnYmlsbF9ubycsICdERVNDJyktPndpdGgoWydiaWxsVHlwZScsICd1c2VyJyA9PiBmdW5jdGlvbiAoJHEpIHsNCiAgICAgICAgICAgICAgICAkcS0+c2VsZWN0KCdpZCcsICduYW1lJyk7DQogICAgICAgICAgICB9LCAnY3VzdG9tZXInID0+IGZ1bmN0aW9uICgkcSkgew0KICAgICAgICAgICAgICAgICRxLT5zZWxlY3QoJ2N1c3RfaWQnLCAnY3VzdF9uYW1lJyk7DQogICAgICAgICAgICB9LCAncGF5TWV0aG9kcycsICdyZXR1cm5zJ10pDQogICAgICAgICAgICAgICAgLT53aGVyZSgnY3VzdF9pZCcsICRpZCktPndoZXJlRGF0ZSgnYmlsbF9kYXRlJywgJzw9JywgJHRvKQ0KICAgICAgICAgICAgICAgIC0+d2hlcmVEYXRlKCdiaWxsX2RhdGUnLCAnPj0nLCAkZnJvbSktPmdldCgpOw0KICAgICAgICByZXR1cm4gcmVzcG9uc2UoKS0+anNvbigkYmlsbHMpOw0KICAgIH0NCg0KICAgIHB1YmxpYyBmdW5jdGlvbiBjdXN0b21lckNhc2hSZXBvcnQoJGZyb20sICR0bywgJGlkKQ0KICAgIHsNCiAgICAgICAgJGN1c3RvbWVyc0Nhc2ggPSBDdXN0b21lclBheTo6d2l0aChbJ3VzZXInID0+IGZ1bmN0aW9uICgkcSkgew0KICAgICAgICAgICAgJHEtPnNlbGVjdCgnaWQnLCAnbmFtZScpOw0KICAgICAgICB9LCAnY3VzdG9tZXInID0+IGZ1bmN0aW9uICgkcSkgew0KICAgICAgICAgICAgJHEtPnNlbGVjdCgnY3VzdF9pZCcsICdjdXN0X25hbWUnKTsNCiAgICAgICAgfSwgJ3BheU1ldGhvZHMnXSktPndoZXJlRGF0ZSgncGFpZF9kYXRlJywgJzw9JywgJHRvKS0+d2hlcmVEYXRlKCdwYWlkX2RhdGUnLCAnPj0nLCAkZnJvbSktPndoZXJlKCdjdXN0X2lkJywgJGlkKS0+Z2V0KCk7DQogICAgICAgIHJldHVybiAganNvbl9lbmNvZGUoJGN1c3RvbWVyc0Nhc2gpOw0KICAgIH0NCg0KICAgIC8qKg0KICAgICAqIFN0b3JlIGEgbmV3bHkgY3JlYXRlZCByZXNvdXJjZSBpbiBzdG9yYWdlLg0KICAgICAqDQogICAgICogQHBhcmFtIFxJbGx1bWluYXRlXEh0dHBcUmVxdWVzdCAkcmVxdWVzdA0KICAgICAqIEByZXR1cm4gXElsbHVtaW5hdGVcSHR0cFxSZXNwb25zZQ0KICAgICAqLw0KICAgIHB1YmxpYyBmdW5jdGlvbiBzdG9yZShDdXN0b21lclJlcXVlc3QgJHJlcXVlc3QpDQogICAgew0KICAgICAgICAkY3VzdG9tZXIgPSBDdXN0b21lcjo6Y3JlYXRlKCRyZXF1ZXN0LT5hbGwoKSk7DQogICAgICAgIHJldHVybiAganNvbl9lbmNvZGUoJGN1c3RvbWVyKTsNCiAgICB9DQoNCiAgICAvKioNCiAgICAgKiBEaXNwbGF5IHRoZSBzcGVjaWZpZWQgcmVzb3VyY2UuDQogICAgICoNCiAgICAgKiBAcGFyYW0gaW50ICRpZA0KICAgICAqIEByZXR1cm4gXElsbHVtaW5hdGVcSHR0cFxSZXNwb25zZQ0KICAgICAqLw0KICAgIHB1YmxpYyBmdW5jdGlvbiBzaG93KCRpZCkNCiAgICB7DQogICAgICAgICRjdXN0b21lciA9IERCOjp0YWJsZSgnY3VzdG9tZXJzJyktPndoZXJlKCdjdXN0X2lkJywgJGlkKS0+Zmlyc3QoKTsNCiAgICAgICAgaWYgKCEkY3VzdG9tZXIpDQogICAgICAgICAgICAkY3VzdG9tZXIgPSBEQjo6dGFibGUoJ2N1c3RvbWVycycpLT53aGVyZSgnY3VzdF9uYW1lJywgJGlkKS0+Zmlyc3QoKTsNCiAgICAgICAgaWYgKCEkY3VzdG9tZXIpDQogICAgICAgICAgICAkY3VzdG9tZXIgPSBEQjo6dGFibGUoJ2N1c3RvbWVycycpLT53aGVyZSgnY3VzdF9tb2JpbGUnLCAkaWQpLT5maXJzdCgpOw0KICAgICAgICByZXR1cm4gcmVzcG9uc2UoKS0+anNvbigkY3VzdG9tZXIpOw0KICAgIH0NCg0KDQogICAgLyoqDQogICAgICogVXBkYXRlIHRoZSBzcGVjaWZpZWQgcmVzb3VyY2UgaW4gc3RvcmFnZS4NCiAgICAgKg0KICAgICAqIEBwYXJhbSBcSWxsdW1pbmF0ZVxIdHRwXFJlcXVlc3QgJHJlcXVlc3QNCiAgICAgKiBAcGFyYW0gaW50ICRpZA0KICAgICAqIEByZXR1cm4gXElsbHVtaW5hdGVcSHR0cFxSZXNwb25zZQ0KICAgICAqLw0KICAgIHB1YmxpYyBmdW5jdGlvbiB1cGRhdGUoUmVxdWVzdCAkcmVxdWVzdCwgJGlkKQ0KICAgIHsNCiAgICAgICAgREI6OnRhYmxlKCdjdXN0b21lcnMnKS0+d2hlcmUoJ2N1c3RfaWQnLCAkaWQpLT51cGRhdGUoJHJlcXVlc3QtPmFsbCgpKTsNCiAgICB9DQoNCiAgICAvKioNCiAgICAgKiBSZW1vdmUgdGhlIHNwZWNpZmllZCByZXNvdXJjZSBmcm9tIHN0b3JhZ2UuDQogICAgICoNCiAgICAgKiBAcGFyYW0gaW50ICRpZA0KICAgICAqIEByZXR1cm4gXElsbHVtaW5hdGVcSHR0cFxSZXNwb25zZQ0KICAgICAqLw0KICAgIHB1YmxpYyBmdW5jdGlvbiBkZXN0cm95KCRpZCkNCiAgICB7DQogICAgICAgIERCOjp0YWJsZSgnY3VzdG9tZXJzJyktPndoZXJlKCdjdXN0X2lkJywgJGlkKS0+Zmlyc3QoKTsNCg0KICAgICAgICBEQjo6dGFibGUoJ2N1c3RvbWVycycpLT53aGVyZSgnY3VzdF9pZCcsICRpZCktPmRlbGV0ZSgpOw0KICAgIH0NCn0NCg==